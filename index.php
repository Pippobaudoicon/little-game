<html>
    <head>
        <title>Test Your Reaction</title>
    </head>

        <style>
            #form {
                height: 200px;
                width: 200px;
            }

        </style>

    <body>

            <h1>Test Your Reaction!</h1>
            <h3>Click on the figure as fast as you can!</h3>
            <h2><b>Your time: <span id="click-time" class="time"></span> </b></h2> 
        

            <div id="form" class="color" onclick="myOnClickFunction()"></div>
    
            <script type="text/javascript">
            
            var begin = new Date().getTime();
                            
            function setBackgroundRadius() {
                var form = ["square", "circle"]
                var randomForm = form[Math.floor(Math.random() * form.length)]
                var isCircle = false;
                var backgroundRadius = 0;
                if (randomForm == "circle") {
                    isCircle = true;
                }
                if (isCircle){
                    backgroundRadius = 50;
                }
                console.log(randomForm);

                return backgroundRadius + "%";
            }
            
            function randColor() {
                
                var x = Math.floor(Math.random() * 256);
                var y = Math.floor(Math.random() * 256);
                var z = Math.floor(Math.random() * 256);       
                var rbgcolor = "rgb("+ x +","+ y +","+ z +")";
                console.log(rbgcolor);
                return rbgcolor; 
            }

            function randPosition() {

                var top = Math.floor(Math.random() * 501);
                var right = 0
                var bottom = 0
                var left = Math.floor(Math.random() * 1081);
                var rPosition = top + "px" + " " + right + "px" + " " + bottom + "px" + " " + left + "px";
                console.log(rPosition);
                return rPosition;
            }
            
            window.onload = function () {
                document.getElementById("form").onclick = function myOnClickFunction() {
                    var end = new Date().getTime();
                    var timeTaken = (end - begin) / 1000;
                    document.getElementById("click-time").innerHTML = timeTaken + " seconds";
                    document.getElementById("form").style.display = "none";
                    setTimeout(function () {
                        start();
                    }, Math.random() * 4000);
                                        
                }
                start() ;
                
            }

            var start = function() {
                document.getElementById("form").style.display = "block";
                begin = new Date().getTime();
                var elements = [];
                elements = document.getElementsByClassName("color");
                for (var i = 0; i < elements.length; i++) {
                    elements[i].style.background = randColor();
                }
                var position = [];
                position = document.getElementsByClassName("color");
                for (var i = 0; i < position.length; i++) {
                    position[i].style.margin = randPosition ();
                } 
                var form = [];
                form = document.getElementsByClassName("color");
                for (var i = 0; i < form.length; i++) {
                    form[i].style.borderRadius = setBackgroundRadius ();
                }
            }

                                
            </script>

    </body>
</html>